(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df88abc4"],{"369c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.isLoading?r("Spinner"):e._e(),r("Sidebar",{attrs:{"selected-page":e.selectedPage},on:{showCreateModal:e.showCreateModal}}),r("div",{staticClass:"main-follow-info"},[r("div",{staticClass:"info-title"},[r("button",{staticClass:"back-button",on:{click:function(t){return e.$router.back()}}},[r("img",{staticClass:"back-img",attrs:{src:"https://i.imgur.com/aPVTDn2.png",alt:""}})]),r("div",{staticClass:"title-content"},[r("div",{staticClass:"name"},[e._v(e._s(e.userName))]),r("div",{staticClass:"tweets-count"},[e._v(e._s(e.tweets.length)+"推文")])])]),r("div",{staticClass:"follow-tab"},[r("UserNavTab",{attrs:{isFollowPage:e.isFollowPage}})],1),r("FollowUsersList",{attrs:{initialFollowData:e.followerUsers}})],1),r("div",{staticClass:"follow-top"},[r("FollowTopList")],1),e.createModal?r("TweetCreateModal",{attrs:{"initial-description":e.description},on:{"after-click-close-create":e.closeCreateModal,afterSubmit:e.creatTweetFromModal}}):e._e()],1)},n=[],s=(r("b0c0"),r("96cf"),r("1da1")),o=r("5ea5"),i=r("13ff"),c=r("c553"),l=r("8d93"),u=r("d5f8"),d=r("4cce"),f=r("2fa3"),w=r("6783"),h=r("2375"),p={name:"UserFollowers",components:{Sidebar:o["a"],FollowUsersList:i["a"],FollowTopList:c["a"],TweetCreateModal:l["a"],UserNavTab:u["a"],Spinner:h["a"]},data:function(){return{createModal:!1,replyModal:!1,isFollowPage:!0,followerUsers:[],tweets:[],userName:"",description:"",selectedPage:"",isLoading:!1}},created:function(){var e=this.$route.params.id;this.fetchFollower(e),this.fetchUserTweets(e),this.fetchUser(e)},methods:{showCreateModal:function(){this.createModal=!0},closeCreateModal:function(){this.createModal=!1},CreateFinish:function(){this.$router.push({name:"tweets-home"})},fetchUserTweets:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].getUserTweets({userId:e});case 3:a=r.sent,n=a.data,t.tweets=n,r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),f["a"].fire({icon:"error",title:"無法讀取推文資料，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},fetchUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].getUser({userId:e});case 3:a=r.sent,n=a.data,console.log(n),s=n.name,t.userName=s,r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),f["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},fetchFollower:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoading=!0,r.next=4,d["a"].getFollowers({userId:e});case 4:a=r.sent,n=a.data,t.followerUsers=n,t.isLoading=!1,r.next=15;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),f["a"].fire({icon:"error",title:"無法取得追總者清單，請稍後再試"}),t.isLoading=!1;case 15:case"end":return r.stop()}}),r,null,[[0,10]])})))()},creatTweetFromModal:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,0!==e.length){r.next=4;break}return f["a"].fire({icon:"warning",title:"請輸入推文內容"}),r.abrupt("return");case 4:if(!(e.length>140)){r.next=7;break}return f["a"].fire({icon:"warning",title:"推文字數限制140字以內，請減少輸入的字數"}),r.abrupt("return");case 7:return r.next=9,w["a"].createTweet({description:e});case 9:if(a=r.sent,n=a.data,"error"!==n.status){r.next=13;break}throw new Error(n.message);case 13:t.CreateFinish(),r.next=20;break;case 16:r.prev=16,r.t0=r["catch"](0),console.log(r.t0),f["a"].fire({icon:"error",title:"無法新增推文，請稍後再試看"});case 20:case"end":return r.stop()}}),r,null,[[0,16]])})))()}}},g=p,v=(r("f7e6"),r("2877")),m=Object(v["a"])(g,a,n,!1,null,"225e3aa0",null);t["default"]=m.exports},bd57:function(e,t,r){},f7e6:function(e,t,r){"use strict";var a=r("bd57"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-df88abc4.8a3335fd.js.map