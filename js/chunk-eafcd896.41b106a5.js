(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eafcd896"],{"0642":function(t,e,a){},"37d6":function(t,e,a){"use strict";var s=a("9bba"),r=a.n(s);r.a},"4eed":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("img",{staticClass:"logo",attrs:{src:"https://i.imgur.com/v5wdZG6.png",alt:"logo"}}),a("h2",[t._v("建立你的帳號")]),a("UserInfoForm",{attrs:{initialAccount:t.account,initialName:t.name,initialEmail:t.email,initialPassword:t.password,initialCheckPassword:t.checkPassword,isProcessing:t.isProcessing},on:{afterSubmit:t.submitRegist}}),a("div",{staticClass:"cancel"},[a("p",[a("router-link",{attrs:{to:"/login"}},[t._v("取消")])],1)])],1)},r=[],i=(a("b0c0"),a("96cf"),a("1da1")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"login-form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(e)}}},[a("div",{staticClass:"form-label-group"},[a("label",{staticClass:"form-label",attrs:{for:"account"}},[t._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-input",attrs:{type:"text",required:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-input",attrs:{type:"text",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{staticClass:"form-label",attrs:{for:"account"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",attrs:{type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{staticClass:"form-label",attrs:{for:"password-check"}},[t._v("密碼確認")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPassword,expression:"checkPassword"}],staticClass:"form-input",attrs:{type:"password",required:""},domProps:{value:t.checkPassword},on:{input:function(e){e.target.composing||(t.checkPassword=e.target.value)}}})]),a("button",{staticClass:"btn login-btn",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" 註冊 ")])])},o=[],c={props:{initialAccount:{type:String,required:!0},initialName:{type:String,required:!0},initialEmail:{type:String,required:!0},initialPassword:{type:String,required:!0},initialCheckPassword:{type:String,required:!0},isProcessing:{type:Boolean,require:!0}},data:function(){return{account:this.initialAccount,name:this.initialName,email:this.initialEmail,password:this.initialPassword,checkPassword:this.initialCheckPassword}},methods:{handleSubmit:function(){var t={account:this.account,name:this.name,email:this.email,password:this.password,checkPassword:this.checkPassword};this.$emit("afterSubmit",t)}}},l=c,u=(a("71d1"),a("2877")),m=Object(u["a"])(l,n,o,!1,null,"06d44456",null),d=m.exports,p=a("7696"),f=a("2fa3"),g={name:"UserRegist",components:{UserInfoForm:d},data:function(){return{account:"",name:"",email:"",password:"",checkPassword:"",isProcessing:!1}},methods:{submitRegist:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,e.isProcessing=!0,s=t.account,r=t.name,i=t.email,n=t.password,o=t.checkPassword,!(s.length>15)){a.next=7;break}return f["a"].fire({icon:"warning",title:"帳號限定使用15個字"}),e.isProcessing=!1,a.abrupt("return");case 7:if(!(r.length>50)){a.next=11;break}return f["a"].fire({icon:"warning",title:"名稱限定使用50個字"}),e.isProcessing=!1,a.abrupt("return");case 11:if(s&&r&&i&&n&&o){a.next=15;break}return f["a"].fire({icon:"warning",title:"請確認是否已填寫所有欄位"}),e.isProcessing=!1,a.abrupt("return");case 15:if(n===o){a.next=19;break}return f["a"].fire({icon:"warning",title:"密碼與確認密碼不符"}),e.isProcessing=!1,a.abrupt("return");case 19:return a.next=21,p["a"].regist({account:s,name:r,email:i,password:n,checkPassword:o});case 21:if(c=a.sent,"error"!==c.data.status){a.next=34;break}if("Already have the same account."!==c.data.message){a.next=29;break}return f["a"].fire({icon:"error",title:"此帳號已被使用！"}),e.isProcessing=!1,a.abrupt("return");case 29:if("Email has been registered."!==c.data.message){a.next=33;break}return f["a"].fire({icon:"error",title:"此信箱已被註冊！"}),e.isProcessing=!1,a.abrupt("return");case 33:throw new Error(c.data.status);case 34:f["a"].fire({icon:"success",title:"註冊成功"}),e.$router.push("/login"),a.next=43;break;case 38:a.prev=38,a.t0=a["catch"](0),e.isProcessing=!1,console.log(a.t0),f["a"].fire({icon:"error",title:"無法註冊，請稍後再試"});case 43:case"end":return a.stop()}}),a,null,[[0,38]])})))()}}},v=g,w=(a("37d6"),Object(u["a"])(v,s,r,!1,null,"496dcc16",null));e["default"]=w.exports},"71d1":function(t,e,a){"use strict";var s=a("0642"),r=a.n(s);r.a},"9bba":function(t,e,a){}}]);
//# sourceMappingURL=chunk-eafcd896.41b106a5.js.map