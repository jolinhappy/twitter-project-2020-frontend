(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45a54fd4"],{2375:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"wraper"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])])}],n=(a("616f"),a("2877")),r={},c=Object(n["a"])(r,i,s,!1,null,"4548c6d4",null);t["a"]=c.exports},2755:function(e,t,a){"use strict";var i=a("ff7a"),s=a.n(i);s.a},"50ff":function(e,t,a){},"616f":function(e,t,a){"use strict";var i=a("50ff"),s=a.n(i);s.a},be6c:function(e,t,a){"use strict";var i=a("2fa3");t["a"]={getTweets:function(){return i["b"].get("/admin/tweets")},getUsers:function(){return i["b"].get("/admin/users")},deletTweet:function(e){var t=e.tweetId;return i["b"].delete("/admin/tweets/".concat(t))}}},fa6a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.isLoading?a("Spinner"):e._e(),a("Sidebar",{attrs:{isAdmin:e.isAdmin,"admin-page":e.adminPage,"selected-page":e.selectedPage}}),a("div",{staticClass:"admin-tweets"},[a("div",{staticClass:"admin-tweets-container"},[e._m(0),e._l(e.adminTweets,(function(t){return a("div",{key:t.id,staticClass:"user-tweet"},[a("div",{staticClass:"tweet-list-container"},[a("div",{staticClass:"profile-image"},[a("img",{staticClass:"user-img",attrs:{src:e._f("emptyImage")(t.User.avatar),alt:""}})]),a("div",{staticClass:"tweet"},[a("router-link",{attrs:{to:{name:"tweet",params:{id:t.id}}}},[a("div",{staticClass:"tweet-info"},[a("router-link",{staticClass:"user-name-link",attrs:{to:{name:"user-profile",params:{id:t.User.id}}}},[a("div",{staticClass:"user-name"},[e._v(e._s(t.User.name))])]),a("div",{staticClass:"user-account"},[e._v("@"+e._s(t.User.account))]),a("div",{staticClass:"create-time"},[e._v(" ．"+e._s(e._f("fromNow")(t.createdAt))+" ")])],1)]),a("div",{staticClass:"tweet-content"},[e._v(" "+e._s(t.description)+" ")])],1),a("div",{staticClass:"delete-tweet"},[a("div",{staticClass:"delete-container",on:{click:function(a){return e.deleteTweet(t.id)}}},[a("img",{staticClass:"delete-icon",attrs:{src:"https://i.imgur.com/puB9wJ7.png",alt:""}})])])])])}))],2)])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-tweets-title"},[a("p",[e._v("推文清單")])])}],n=(a("4de4"),a("96cf"),a("1da1")),r=a("5ea5"),c=a("2708"),d=a("be6c"),o=a("2fa3"),u=a("2375"),l={mixins:[c["d"],c["a"]],components:{Sidebar:r["a"],Spinner:u["a"]},data:function(){return{isAdmin:!0,adminTweets:[],adminPage:!0,selectedPage:"adminTweets",isLoading:!1}},created:function(){this.fetchAdminTweets()},methods:{fetchAdminTweets:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,d["a"].getTweets();case 4:a=t.sent,i=a.data,e.adminTweets=i,e.isLoading=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),o["a"].fire({icon:"error",title:"無法讀取推文資料，請稍後再試"}),e.isLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},deleteTweet:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].deletTweet({tweetId:e});case 3:if(i=a.sent,s=i.data,"success"===s.status){a.next=7;break}throw new Error(s.message);case 7:t.adminTweets=t.adminTweets.filter((function(t){return t.id!==e})),o["a"].fire({icon:"success",title:"成功刪除推文"}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](0),console.log(a.t0),o["a"].fire({icon:"error",title:"無法刪除推文，請稍後再試"});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()}}},f=l,m=(a("2755"),a("2877")),v=Object(m["a"])(f,i,s,!1,null,"f57db098",null);t["default"]=v.exports},ff7a:function(e,t,a){}}]);
//# sourceMappingURL=chunk-45a54fd4.4b8808b0.js.map