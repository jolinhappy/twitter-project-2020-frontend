(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69743265"],{"2caa":function(e,t,a){"use strict";var r=a("3c51"),n=a.n(r);n.a},"3c51":function(e,t,a){},e85a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.isLoading?a("Spinner"):e._e(),a("Sidebar",{attrs:{"selected-page":e.selectedPage},on:{showCreateModal:e.showCreateModal}}),a("div",{staticClass:"main-follow-info"},[a("div",{staticClass:"info-title"},[a("button",{staticClass:"back-button",on:{click:function(t){return e.$router.back()}}},[a("img",{staticClass:"back-img",attrs:{src:"https://i.imgur.com/aPVTDn2.png",alt:""}})]),a("div",{staticClass:"title-content"},[a("div",{staticClass:"name"},[e._v(e._s(e.userName))]),a("div",{staticClass:"tweets-count"},[e._v(e._s(e.tweets.length)+"推文")])])]),a("div",{staticClass:"follow-tab"},[a("UserNavTab",{attrs:{isFollowPage:e.isFollowPage}})],1),a("FollowUsersList",{attrs:{initialFollowData:e.followingUsers}})],1),a("div",{staticClass:"follow-top"},[a("FollowTopList")],1),e.createModal?a("TweetCreateModal",{attrs:{"initial-description":e.description},on:{"after-click-close-create":e.closeCreateModal,afterSubmit:e.creatTweetFromModal}}):e._e()],1)},n=[],s=(a("b0c0"),a("96cf"),a("1da1")),i=a("5ea5"),o=a("13ff"),c=a("c553"),l=a("8d93"),u=a("d5f8"),d=a("4cce"),w=a("2fa3"),f=a("6783"),h=a("2375"),g={name:"UserFollowings",components:{Sidebar:i["a"],FollowUsersList:o["a"],FollowTopList:c["a"],TweetCreateModal:l["a"],UserNavTab:u["a"],Spinner:h["a"]},data:function(){return{createModal:!1,replyModal:!1,isFollowPage:!0,followingUsers:[],tweets:[],userName:"",description:"",selectedPage:"",isLoading:!1}},created:function(){var e=this.$route.params.id;this.fetchFollowings(e),this.fetchUserTweets(e),this.fetchUser(e)},methods:{showCreateModal:function(){this.createModal=!0},closeCreateModal:function(){this.createModal=!1},CreateFinish:function(){this.$router.push({name:"tweets-home"})},fetchUserTweets:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].getUserTweets({userId:e});case 3:r=a.sent,n=r.data,t.tweets=n,a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log(a.t0),w["a"].fire({icon:"error",title:"無法讀取推文資料，請稍後再試"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},fetchUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].getUser({userId:e});case 3:r=a.sent,n=r.data,console.log(n),s=n.name,t.userName=s,a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0),w["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},fetchFollowings:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isLoading=!0,a.next=4,d["a"].getFollowings({userId:e});case 4:r=a.sent,n=r.data,t.followingUsers=n,t.isLoading=!1,a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0),w["a"].fire({icon:"error",title:"無法取得追總者清單，請稍後再試"}),t.isLoading=!1;case 15:case"end":return a.stop()}}),a,null,[[0,10]])})))()},creatTweetFromModal:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,0!==e.length){a.next=4;break}return w["a"].fire({icon:"warning",title:"請輸入推文內容"}),a.abrupt("return");case 4:if(!(e.length>140)){a.next=7;break}return w["a"].fire({icon:"warning",title:"推文字數限制140字以內，請減少輸入的字數"}),a.abrupt("return");case 7:return a.next=9,f["a"].createTweet({description:e});case 9:if(r=a.sent,n=r.data,"error"!==n.status){a.next=13;break}throw new Error(n.message);case 13:t.CreateFinish(),a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](0),console.log(a.t0),w["a"].fire({icon:"error",title:"無法新增推文，請稍後再試看"});case 20:case"end":return a.stop()}}),a,null,[[0,16]])})))()}}},p=g,v=(a("2caa"),a("2877")),m=Object(v["a"])(p,r,n,!1,null,"5bc240f5",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-69743265.1bd4535e.js.map